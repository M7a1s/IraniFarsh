import{af as a}from"./index-m2O7FK66.js";import{g as I}from"./error-B5PgSNGc.js";const p=(i,e,o={})=>a({queryKey:[i,e],enabled:!!e,queryFn:async()=>{try{if(!e)throw new Error("URL is required");const r=await fetch(e,{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFhcXBhdmtibWN1am16ZGRlenVhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE1ODQwMTAsImV4cCI6MjA2NzE2MDAxMH0.RDrMXyFXS3Ey1dnqLUkQMdGXLvIijS0Wrfs3Z1Gl8l0",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFhcXBhdmtibWN1am16ZGRlenVhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE1ODQwMTAsImV4cCI6MjA2NzE2MDAxMH0.RDrMXyFXS3Ey1dnqLUkQMdGXLvIijS0Wrfs3Z1Gl8l0",Accept:"application/json",...o}});if(!r.ok){const t=I(r.status);throw new Error(t)}const n=r.headers.get("content-range");let s;if(n){const t=n.split("/");t.length===2&&(s=parseInt(t[1],10))}return{data:await r.json(),total:s}}catch(r){throw console.log(i),r instanceof Error?r.name==="TypeError"?new Error("ارتباط با سرور برقرار نشد. لطفاً اتصال اینترنت خود را بررسی کنید."):new Error(r.message||"خطای ناشناخته‌ای رخ داده است."):new Error("خطای ناشناخته‌ای رخ داده است.")}}});export{p as u};
