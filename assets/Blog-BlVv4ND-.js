import{r as v,u as x,j as e,L as N,C as y}from"./index-CJtwsFXR.js";import{u as B}from"./useFetch-CcSXUbp7.js";import{E}from"./Errorui-DVvLag2B.js";import"./error-B5PgSNGc.js";const j=({size:t,id:s,title:n,image:f})=>{const[o,h]=v.useState(!1),[l,a]=v.useState(!1),r=x("(min-width: 600px)");return e.jsx("article",{className:`${r?`${t==="Big"?"w-[560px]":"w-67"}`:"w-full"} cursor-pointer h-85 bg-primary/20 rounded-3xl overflow-hidden relative`,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onTouchStart:()=>a(!0),onTouchEnd:()=>a(!1),children:e.jsxs(N,{className:"w-full h-full",to:`/blogcontent/${s}`,children:[e.jsx("div",{className:`w-full h-full ${o&&"flex justify-center items-center"}`,children:o?e.jsx("p",{className:"text-primary h1",children:"ایرانی فرش"}):e.jsx("img",{onError:()=>h(!0),src:f,alt:n,className:`w-full h-full object-cover duration-300 ${l?"scale-120":"scale-100"}`})}),e.jsxs("div",{className:`pointer-events-none w-full h-full absolute top-0 left-0 pb-5 px-5 flex flex-col justify-end items-start gap-y-3 bg-[linear-gradient(180deg,transparent_0,rgba(18,18,18,0.16)_51%,rgba(18,18,18,0.64)_72%,rgba(18,18,18,1)_100%)] duration-300 ${l&&"bg-black/50"}`,children:[e.jsx("p",{className:`${r?`${t==="Big"?"h5":"h6"}`:"h6"} text-white duration-300 ${l?"translate-y-0":"translate-y-14"}`,children:n}),e.jsx("div",{className:`border border-white text-white w-fit py-2 px-4 rounded-xl duration-300 ${l?"translate-y-0":"translate-y-20"}`,children:"خواندن مقاله"})]})]})})},w=({size:t})=>{const s=x("(min-width: 600px)");return e.jsx("article",{className:`${s?`${t==="Big"?"w-[560px]":"w-67"}`:"w-full"} h-85 bg-neutral3 rounded-3xl overflow-hidden relative animate-pulse`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"w-full h-full bg-neutral4"}),e.jsxs("div",{className:"pointer-events-none w-full h-full absolute top-0 left-0 pb-5 px-5 flex flex-col justify-end items-start gap-y-3 bg-gradient-to-t from-black/80 to-transparent",children:[e.jsx("div",{className:`${s?`${t==="Big"?"h-6":"h-5"}`:"h-5"} w-3/4 bg-neutral7 rounded`}),e.jsx("div",{className:"border border-neutral1 bg-transparent w-32 h-10 rounded-xl"})]})]})})},S=()=>{const[t,s]=v.useState(6),{data:n,isError:f,isLoading:o,refetch:h}=B("product",`https://qaqpavkbmcujmzddezua.supabase.co/rest/v1/blog?limit=${t}`,{Prefer:"count=exact"}),l=n?.data??[],a=n?.total??0,r=x("(min-width: 1190px)"),g=x("(min-width: 600px)");return e.jsxs("section",{className:"BodyPadding w-full flex flex-col gap-y-3",children:[e.jsx("h1",{className:"ResponsiveFontSize",children:"وبلاگ"}),f?e.jsx(E,{title:"خطا در بارگزاری مقالات",className:"mt-5",onClick:()=>h()}):e.jsx("div",{className:"flex flex-col items-center gap-y-10 w-full",children:o?Array.from({length:2}).map((i,p)=>e.jsxs("div",{className:`flex flex-col gap-10 items-center ${r?`${p===0?"flex-row":" flex-row-reverse"}`:"flex-col"} ${!g&&"w-full"}`,children:[e.jsx(w,{size:"Big"}),e.jsxs("div",{className:`flex ${g?"flex-row":"flex-col w-full"} items-center gap-10`,children:[e.jsx(w,{size:"small"}),e.jsx(w,{size:"small"})]})]},p)):e.jsx(e.Fragment,{children:l&&l.length>0?e.jsxs(e.Fragment,{children:[l.reduce((i,p,c)=>{if(c%3!==0)return i;const b=l.slice(c,c+3),[d,u,m]=b,$=Math.floor(c/3)%2===0;return i.push(e.jsxs("div",{className:`flex gap-10 justify-between items-center ${r?`${$?"flex-row":"flex-row-reverse"}`:"flex-col"}`,children:[e.jsx(j,{size:"Big",id:d.id,title:d.title,image:d.image}),e.jsxs("div",{className:`flex ${g?"flex-row":"flex-col"} ${!r&&"w-full"} items-center gap-10`,children:[u&&e.jsx(j,{size:"small",id:u.id,title:u.title,image:u.image}),m&&e.jsx(j,{size:"small",id:m.id,title:m.title,image:m.image})]})]},d.id)),i},[]),l&&l.length>0&&l.length<a&&e.jsx(y,{variant:"filled",width:"w-fit",height:"h-12",rounded:"rounded-xl",element:"button",ratio:"aspect-auto",ariaLabel:"مشاهده بیشتر",onClick:()=>s(i=>i+2),children:"مشاهده بیشتر"})]}):e.jsx("div",{children:"هیچ مطلبی موجود نیست."})})})]})};export{S as default};
